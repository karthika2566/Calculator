<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculator</title>
  <style>
    :root{
      --bg:#f8fafc;--panel:#ffffff;--border:#e5e7eb;
      --num:#f1f5f9;--op:#e2e8f0;--accent:#2563eb;--danger:#dc2626;
      --text:#0f172a;--muted:#64748b
    }
    body.dark{
      --bg:#020617;--panel:#0f172a;--border:rgba(255,255,255,.08);
      --num:#1e293b;--op:#334155;--accent:#22c55e;--danger:#ef4444;
      --text:#e5e7eb;--muted:#94a3b8
    }

    *{box-sizing:border-box;font-family:Inter,Segoe UI,sans-serif}
    body{margin:0;height:100vh;display:grid;place-items:center;background:var(--bg);transition:.3s}

    .calculator{
      width:420px;background:var(--panel);border:1px solid var(--border);
      border-radius:24px;padding:20px;box-shadow:0 25px 60px rgba(0,0,0,.15)
    }

    .top{display:flex;justify-content:space-between;align-items:center}
    .brand{letter-spacing:2px;font-size:12px;color:var(--muted)}
    .theme{cursor:pointer;font-size:13px;color:var(--accent)}

    .sub{min-height:18px;text-align:right;color:var(--muted);font-size:13px;margin-top:6px}
    .display{
      margin-top:6px;min-height:78px;padding:16px;border-radius:16px;
      background:var(--num);text-align:right;font-size:32px;color:var(--text)
    }

    .buttons{margin-top:16px;display:grid;grid-template-columns:repeat(5,1fr);gap:10px}

    button{
      height:54px;border:none;border-radius:14px;font-size:16px;cursor:pointer;
      background:var(--num);color:var(--text);transition:.15s
    }
    button:hover{filter:brightness(.95)}
    button:active{transform:scale(.95)}

    .op{background:var(--op);color:var(--accent);font-weight:600}
    .equal{background:var(--accent);color:#fff;grid-column:span 2}
    .clear{background:var(--danger);color:#fff}

    .footer{text-align:center;margin-top:10px;font-size:11px;color:var(--muted)}
  </style>
</head>
<body class="light">
  <div class="calculator">
    <div class="top">
      <div>
        <div class="brand">NUMCALC</div>
        <div id="greeting" style="font-size:13px;color:var(--muted);margin-top:2px"></div>
      </div>
      <div class="theme" onclick="toggleTheme()">Light / Dark</div>
    </div>

    <div id="sub" class="sub"></div>
    <div id="display" class="display">0</div>

    <div class="buttons">
      <button class="op" onclick="fn('sin')">sin</button>
      <button class="op" onclick="fn('cos')">cos</button>
      <button class="op" onclick="fn('tan')">tan</button>
      <button class="op" onclick="fn('sqrt')">âˆš</button>
      <button class="clear" onclick="clearAll()">C</button>

      <button onclick="append('7')">7</button>
      <button onclick="append('8')">8</button>
      <button onclick="append('9')">9</button>
      <button class="op" onclick="append('/')">Ã·</button>
      <button class="op" onclick="append('*')">Ã—</button>

      <button onclick="append('4')">4</button>
      <button onclick="append('5')">5</button>
      <button onclick="append('6')">6</button>
      <button class="op" onclick="append('-')">âˆ’</button>
      <button class="op" onclick="fn('pow')">xÂ²</button>

      <button onclick="append('1')">1</button>
      <button onclick="append('2')">2</button>
      <button onclick="append('3')">3</button>
      <button class="op" onclick="append('+')">+</button>
      <button class="op" onclick="fn('percent')">%</button>

      <button onclick="append('0')">0</button>
      <button onclick="append('.')">.</button>
      <button class="op" onclick="back()">âŒ«</button>
      <button class="equal" onclick="calc()">=</button>
    </div>

    <div class="footer">Calculator â€¢ Light/Dark â€¢ Keyboard</div>
  </div>

  <script>
    // Greeting logic
    const greetEl = document.getElementById('greeting');
    const hour = new Date().getHours();
    if(hour < 12) greetEl.textContent = "Good Morning â˜€ï¸";
    else if(hour < 18) greetEl.textContent = "Good Afternoon ðŸŒ¤ï¸";
    else greetEl.textContent = "Good Evening ðŸŒ™";

    const d=document.getElementById('display');
    const s=document.getElementById('sub');

    function append(v){ d.textContent=d.textContent==='0'?v:d.textContent+v }
    function back(){ d.textContent=d.textContent.slice(0,-1)||'0' }
    function clearAll(){ d.textContent='0'; s.textContent='' }

    function fn(type){
      let v=parseFloat(d.textContent);
      let r=0;
      if(type==='sin') r=Math.sin(v*Math.PI/180);
      if(type==='cos') r=Math.cos(v*Math.PI/180);
      if(type==='tan') r=Math.tan(v*Math.PI/180);
      if(type==='sqrt') r=Math.sqrt(v);
      if(type==='pow') r=Math.pow(v,2);
      if(type==='percent') r=v/100;
      s.textContent=type+'('+v+')'; d.textContent=r;
    }

    function calc(){ 
      try{
        s.textContent=d.textContent+'=';
        d.textContent=eval(d.textContent)
      }catch{
        d.textContent='Error'
      } 
    }

    function toggleTheme(){ document.body.classList.toggle('dark') }

    document.addEventListener('keydown',e=>{
      if(!isNaN(e.key)||e.key==='.') append(e.key);
      if(['+','-','*','/'].includes(e.key)) append(e.key);
      if(e.key==='Enter') calc();
      if(e.key==='Backspace') back();
      if(e.key==='Escape') clearAll();
    });
  </script>
</body>
</html>
